<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff register</title>
    <link href="style.css" rel="stylesheet" media="screen" />
</head>
<body>
    <header>
        <h1>Staff Register</h1>
    </header>
    <main>
        <section id="list">
            <nav id="filter">
                <p>Filter on position:</p>
                <ul id="positionFilter">
                    <li><button class="all active">All positions</button></li>
                </ul>
            </nav>
            <h2 id="listHeader">Showing all Staff</h2>
            <div id="staffList">
                
                
            </div>
        </section>
        <section id="admin">
            <div class="form">
                <h2>Add staff</h2>
                <p>
                    <label for="firstname">Firstname</label>
                    <input type="text" name="firstname" id="firstname" placeholder="Firstname" />
                </p>
                <p>
                    <label for="lastname">Lastname</label>
                    <input type="text" name="lastname" id="lastname" placeholder="Lastname" /></p>
                <p>
                    <label for="position">Position</label>
                    <select id="position" name="postition">
                    
                    </select>
                </p>
                <p>
                    <label for="department">Department</label>
                    <select id="department" name="department">
                        
                    </select>
                </p>
                <p>
                    <label for="email">Email address</label><input type="email" name="email" id="email" placeholder="you@email.com" /></select>
                </p>
                <button id="saveStaff">Save staff member</button>
            </div>
            <div class="form">
                <h2>Add position</h2>
                <p>
                    <label for="newPosition">Position</label><input type="text" name="newPosition" id="newPosition" placeholder="Position" />
                </p>
                <button id="savePosition" onClick="newPosition()">Save new position</button>
            </div>
            <div class="form">
                <h2>Add department</h2>
                <p>
                    <label for="newDepartment">Department</label><input type="text" name="newDepartment" id="newDepartment" placeholder="Department" />
                </p>
                <button id="saveDepartment">Save new department</button>
            </div>
        </section>
    </main>
    <script>
        
            const staff = [
                {firstname: "Bill", lastname: "Gates", position: "Director", department: "Administration", email: "bill@gates.net"},
                // Add more staff members as needed
                ];

                const positions = ["Director", "Team leader", "Producer", "Engineer", "Designer"];
                const departments = ["Administration", "Human Resources", "Production", "Finances"];

                // Function to render staff list
                function renderStaffList(filteredPosition = null) {
            const staffListContainer = document.getElementById('staffList');
                staffListContainer.innerHTML = '';

            // Filter staff based on position if provided
            const filteredStaff = filteredPosition ? staff.filter(member => member.position === filteredPosition) : staff;

            // Render staff members
            filteredStaff.forEach(member => {
                const memberDiv = document.createElement('div');
                memberDiv.innerHTML = `<p>${member.firstname} ${member.lastname} - ${member.position} - ${member.department} - ${member.email}</p>`;
                staffListContainer.appendChild(memberDiv);
            });

                // Update list header
            const listHeader = document.getElementById('listHeader');
            listHeader.textContent = filteredPosition ? `Showing ${filteredPosition} Staff` : 'Showing all Staff';
        }

                // Function to render positions in the select dropdown
            function renderPositions() {
            const positionDropdown = document.getElementById('position');

            positions.forEach(position => {
                const option = document.createElement('option');
                option.value = position;
                option.textContent = position;
                positionDropdown.appendChild(option);
            });
        }

                // Function to render departments in the select dropdown
            function renderDepartments() {
            const departmentDropdown = document.getElementById('department');

            departments.forEach(department => {
                const option = document.createElement('option');
                option.value = department;
                option.textContent = department;
                departmentDropdown.appendChild(option);
            });
        }

                // Event listener for the "Save staff member" button
                document.getElementById('saveStaff').addEventListener('click', function() {
                const firstname = document.getElementById('firstname').value;
                const lastname = document.getElementById('lastname').value;
                const position = document.getElementById('position').value;
                const department = document.getElementById('department').value;
                const email = document.getElementById('email').value;

                // Check if any required fields are empty
                if (!firstname || !lastname || !email) {
                    alert('Please fill in all required fields.');
                return;
            }

                // Add the new staff member to the staff array
                staff.push({firstname, lastname, position, department, email});

                // Render the updated staff list
                renderStaffList();
        });

                // Event listener for the "Save new position" button
                document.getElementById('savePosition').addEventListener('click', function() {
                const newPosition = document.getElementById('newPosition').value;

                // Add the new position to the positions array
                positions.push(newPosition);

                // Render the updated positions dropdown
                renderPositions();
            });

                // Event listener for the "Save new department" button
                document.getElementById('saveDepartment').addEventListener('click', function() {
                const newDepartment = document.getElementById('newDepartment').value;

                // Add the new department to the departments array
                departments.push(newDepartment);

                // Render the updated departments dropdown
                renderDepartments();
            });

                // Event listener for position filter buttons
                document.querySelectorAll('#positionFilter button').forEach(button => {
                button.addEventListener('click', function () {
                // Remove the "active" class from all buttons
                document.querySelectorAll('#positionFilter button').forEach(btn => btn.classList.remove('active'));

                        // Add the "active" class to the clicked button
                        this.classList.add('active');

                        // Get the position value from the button's text content
                        const filteredPosition = this.textContent === 'All positions' ? null : this.textContent;
                        // Update the heading for the staff list based on the selected position filter
                        const heading = document.getElementById('staffListHeading');
                        heading.textContent = filteredPosition ? `Staff List - ${filteredPosition}` : 'Staff List';

                        // Render the staff list with the selected position filter
                        renderStaffList(filteredPosition);
                    });
        });
        

                // Initial rendering
                renderPositions();
                renderDepartments();
                renderStaffList();
        
    </script>
</body>
</html>